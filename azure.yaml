# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/alpha/azure.yaml.json

name: spring-petclinic-microservices
metadata:
  template: spring-petclinic-microservices@0.0.1-beta
hooks:
  prerestore:
    posix:
      shell: sh
      run: ./mvnw clean install -N
    windows:
      shell: pwsh
      run: ./mvnw.cmd clean install -N
services:
  spring-petclinic-api-gateway:
    project: ./spring-petclinic-api-gateway
    host: springapp
    language: java
    spring:
      deploymentName: default
  spring-petclinic-admin-server:
    project: ./spring-petclinic-admin-server
    host: springapp
    language: java
    spring:
      deploymentName: default
  spring-petclinic-customers-service:
    project: ./spring-petclinic-customers-service
    host: springapp
    language: java
    spring:
      deploymentName: default
  spring-petclinic-vets-service:
    project: ./spring-petclinic-vets-service
    host: springapp
    language: java
    spring:
      deploymentName: default
  spring-petclinic-visits-service:
    project: ./spring-petclinic-visits-service
    host: springapp
    language: java
    spring:
      deploymentName: default